<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Hamish Gamble">

<title>2&nbsp; Economic Complexity – Industry Policy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./just-transitions.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./economic-complexity.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Economic Complexity</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Industry Policy</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./economic-complexity.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Economic Complexity</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./just-transitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Just Transition</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#economic-complexity-in-australia" id="toc-economic-complexity-in-australia" class="nav-link active" data-scroll-target="#economic-complexity-in-australia"><span class="header-section-number">2.1</span> Economic Complexity in Australia</a></li>
  <li><a href="#embedding-economic-complexity-into-industry-policy" id="toc-embedding-economic-complexity-into-industry-policy" class="nav-link" data-scroll-target="#embedding-economic-complexity-into-industry-policy"><span class="header-section-number">2.2</span> Embedding Economic Complexity into Industry Policy</a>
  <ul class="collapse">
  <li><a href="#diversification-analysis-and-opportunity-identification" id="toc-diversification-analysis-and-opportunity-identification" class="nav-link" data-scroll-target="#diversification-analysis-and-opportunity-identification"><span class="header-section-number">2.2.1</span> Diversification Analysis and Opportunity Identification</a></li>
  <li><a href="#opportunity-identification" id="toc-opportunity-identification" class="nav-link" data-scroll-target="#opportunity-identification"><span class="header-section-number">2.2.2</span> Opportunity Identification</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Economic Complexity</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Hamish Gamble </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><strong>Economic complexity is a measure of the knowledge or capabilities embedded with an economy.</strong></p>
<p>When we say capabilities - we mean the knowledge, skills, human and physical capital, and other endowments such as access to raw materials or climate, that a country or region possesses, enabling it to produce certain goods or services. Capabilities can be determined by trade data, or other data sources such as employment by industry.</p>
<p>In principle, the more capabilities a country has (i.e., the higher its economic complexity), the more ways these capabilities can be combined to create new or unique products which can not be created elsewhere.</p>
<p>Economic complexity quantifies and describes the differences in capabilities between economies at a point in time. Differences in economic complexity can explain why there are differences in per-capita Gross Domestic Product (GDP) <span class="citation" data-cites="hausmann2013atlaseconomiccomplexity">(<a href="references.html#ref-hausmann2013atlaseconomiccomplexity" role="doc-biblioref">Hausmann 2013</a>)</span>.</p>
<p>A key outcome from economic complexity analysis is the importance of path dependency. The future development patterns of a country or region can be predicted based on its current capabilities. This builds on a theoretical concept called <em>relatedness.</em></p>
<p>Relatedness is a measure of the probability that a country or region who is specialised in one product will also specialise in another product.</p>
<p>Some examples include:</p>
<ul>
<li><p>a country that exports t-shirts is more likely to also export pants because of the similarity of skills and equipment required</p></li>
<li><p>a region that specialises in copper mining is more likely to also specialise in other kinds of mining because of the similarity of skills, equipment, and co-location of minerals</p></li>
<li><p>a region that exports bananas is more likely to also export mangos because of the similarity of climate</p></li>
</ul>
<p>Relatedness between jobs or products can be due to technological sophistication, knowledge spill overs from one activity to another, similarities in inputs or outputs in value chains, or the presence of requisite institutions.</p>
<section id="economic-complexity-in-australia" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="economic-complexity-in-australia"><span class="header-section-number">2.1</span> Economic Complexity in Australia</h2>
<p>In Australia, there has been a continuous decline in the contribution of the manufacturing sector to overall GDP, and manufacturing employment to the total workforce. While de-industrialisation has been seen across other countries, the decline in Australia has not only relative to other sectors, but absolute. The decline of manufacturing in Australia was punctuated by announcements in 2013 and 2014 that local automotive manufacturing would come to an end. As such, the decline in Australia’s ranking in economic complexity, as shown in <a href="#fig-complexity-index" class="quarto-xref">Figure&nbsp;<span>2.1</span></a> has been rapid. Australia’s economic complexity now ranks 102nd, similar to Namibia, Ghana, and Botswana.</p>
<p>Outside of the broader trend of de-industrialisation, the question remains: what industries can replace those which are in decline, or have been lost? Research shows that different policy responses are required depending on the current level of complexity <span class="citation" data-cites="hidalgo2021economiccomplexitytheory">(<a href="references.html#ref-hidalgo2021economiccomplexitytheory" role="doc-biblioref">Hidalgo 2021</a>)</span></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-complexity-index" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-complexity-index-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="economic-complexity_files/figure-html/fig-complexity-index-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-complexity-index-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.1: Economic Complexity Index, Australia, Canada, Germany
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="embedding-economic-complexity-into-industry-policy" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="embedding-economic-complexity-into-industry-policy"><span class="header-section-number">2.2</span> Embedding Economic Complexity into Industry Policy</h2>
<p>The deliberate lack of industry policy in Australia in favour of policy based on the rationality of markets has resulted in an economy which prioritises sectors and activities that generate the highest returns to capital.</p>
<p>Active and directional industry policy instead prioritises sectors and activities that provide higher returns to society. Such sectors:</p>
<ul>
<li><p>embody greater knowledge intensity and have high positive spill-overs (for example, local/domestic processing and value-adding of minerals compared to dig and ship)</p></li>
<li><p>can assist with large scale societal challenges, such as the decarbonisation/net zero agenda (and capturing the economic benefits), building and retaining sovereign capabilities, and generating inclusive economic growth (reversing inequality).</p></li>
<li><p>have the potential to create high quality and secure jobs</p></li>
</ul>
<p>Economic complexity analysis provides a quantitative evidence base for how to best direct existing industrial capabilities towards building an economy that works better for everyone. Economic complexity is a method for identifying both the existing productive capabilities of a location, but also the links between existing capabilities and potential future capabilities/opportunities.</p>
<p>This is not a new idea:</p>
<p>The concept of smart specialisation focuses on the importance of location and regional knowledge. Smart specialisation has been used as the basis for industry and innovation policy throughout Europe - to direct regional economies along place-based technological trajectories, based on the existing knowledge present in the region <span class="citation" data-cites="rigby1997evolutionprocessvariety">(<a href="references.html#ref-rigby1997evolutionprocessvariety" role="doc-biblioref">Rigby and Essletzbichler 1997</a>)</span>. Smart specialisation policy realises that - because knowledge is location dependent - improved development outcomes can be created by focussing on distinctive and original areas of specialisation, rather than simply copying what has been successful elsewhere <span class="citation" data-cites="dominiqueforay2009smartspecialisationconcept">(<a href="references.html#ref-dominiqueforay2009smartspecialisationconcept" role="doc-biblioref">Dominique Foray, Paul A. David, and Bronwyn Hall 2009</a>)</span> . That is, what has been successful in one region (i.e.&nbsp;Silicon Valley) may not necessarily work in other regions.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A comprehensive industry policy should be seen as an industrial strategy. The first step of such a strategy requires a formal identification of existing and future opportunities. Economic complexity provides a framework for identifying opportunities based on current industrial capabilities. These opportunities lead to increases in economic complexity, which means more capabilities, skills, and knowledge, and economic growth. This creates a self-reinforcing cycle where an industry policy embedded with economic complexity generates opportunities which build complexity which create more opportunities.</p>
</div>
</div>
<section id="diversification-analysis-and-opportunity-identification" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="diversification-analysis-and-opportunity-identification"><span class="header-section-number">2.2.1</span> Diversification Analysis and Opportunity Identification</h3>
<p>Diversification analysis is the first and most basic method available. It looks at the existing capabilities in a region, and identifies what related activities can be prioritised to best make use of these capabilities. For example, consider the economic complexity of a region like Whyalla.</p>
<ul>
<li><p>Diversification analysis is the first and most basic method.</p></li>
<li><p>Given a suite of existing capabilities, what related activities can be prioritised to best make use of the capabilities.</p></li>
<li><p>Identify where those related activities can be performed.</p></li>
</ul>
</section>
<section id="opportunity-identification" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="opportunity-identification"><span class="header-section-number">2.2.2</span> Opportunity Identification</h3>
<ul>
<li><p>Opportunity identification takes the diversification results and analyses:</p>
<ul>
<li><p>current and future strengths and weaknesses within the sector</p></li>
<li><p>competitors and suppliers</p></li>
<li><p>anticipated international market conditions and industry demand characteristics</p></li>
<li><p>barriers to entry and minimum efficient scale issues</p></li>
<li><p>the size and economic significance of the opportunity</p></li>
<li><p>the most important elements of the value chain to capture</p></li>
<li><p>the alignment between the opportunities and strategic, regional, or national goals and priorities.</p></li>
</ul></li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-dominiqueforay2009smartspecialisationconcept" class="csl-entry" role="listitem">
Dominique Foray, Paul A. David, and Bronwyn Hall. 2009. <span>“Smart <span>Specialisation</span>: <span>The Concept</span>.”</span> In <em>Knowledge for Growth : Prospects for Science, Technology and Innovation</em>. LU: Publications Office.
</div>
<div id="ref-hausmann2013atlaseconomiccomplexity" class="csl-entry" role="listitem">
Hausmann, Ricardo, ed. 2013. <em>The Atlas of Economic Complexity: Mapping Paths to Prosperity</em>. Updated edition. Cambridge, MA: The MIT Press.
</div>
<div id="ref-hidalgo2021economiccomplexitytheory" class="csl-entry" role="listitem">
Hidalgo, César A. 2021. <span>“Economic Complexity Theory and Applications.”</span> <em>Nature Reviews Physics</em> 3 (2): 92–113. <a href="https://doi.org/10.1038/s42254-020-00275-1">https://doi.org/10.1038/s42254-020-00275-1</a>.
</div>
<div id="ref-rigby1997evolutionprocessvariety" class="csl-entry" role="listitem">
Rigby, David L., and Jürgen Essletzbichler. 1997. <span>“Evolution, <span>Process Variety</span>, and <span>Regional Trajectories</span> of <span>Technological Change</span> in <span>U</span>.<span>S</span>. <span>Manufacturing</span>*.”</span> <em>Economic Geography</em> 73 (3): 269–84. <a href="https://doi.org/10.1111/j.1944-8287.1997.tb00089.x">https://doi.org/10.1111/j.1944-8287.1997.tb00089.x</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./just-transitions.html" class="pagination-link" aria-label="Just Transition">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Just Transition</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>